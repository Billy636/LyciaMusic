<div align="center">

**简体中文 | [English](./README_EN.md)**

</div>

---


# LyciaMusic 🎵 | 莉西亚音乐

一款基于 **Tauri v2.0**、**Vue 3** 和 **TypeScript** 开发的高性能桌面本地音乐播放器。专注于极致的视觉美感、流畅的交互体验以及原生级的系统集成。

![LyciaMusic 预览](app.png)

> [!IMPORTANT]
> 本软件目前处于 **早期开发阶段 (Alpha)**，部分功能不稳定，可以多提建议。

> [!WARNING]
> **已知不可用功能：**
> * 暂不清楚支持哪些歌曲格式，flac和mp3正常。
> * 设置正在开发中，个别选项无用。
> * 暂时只做windows，其他不懂，以后在说。
> * 桌面歌词没做，不要点那个，软件已经适配了Lyricify Lite，这个效果更好！推荐！。
> * 具体播放界面的歌词和播放的声音有一点点不同步，尝试过很多都失败，就凑合用了，以后再想办法。


## 📸 界面截图

> 点击下方箭头展开查看高清大图 👇

<details>
<summary><strong>✨ 点击展开应用截图预览</strong></summary>
<br>

### 软件首页
<img src="./screenshots/shouye.png" width="100%">
<br>

### 歌曲列表
<img src="./screenshots/shouye2.png" width="100%">
<br>

### 播放界面
<img src="./screenshots/playdetail.png" width="100%">

</details>



  🎵 LyciaMusic - 用户功能与使用指南

  欢迎使用 LyciaMusic！这是一款为您本地曲库量身打造的、兼具视觉美感与高性能的现代音乐播放器。本指南将带您深入了解如何使用 LyciaMusic 的各项核心功能。

  ---

  🚀 1. 快速上手：导入您的音乐

  开启音乐之旅的第一步是让 LyciaMusic 找到您的音乐文件。

   1. 添加本地文件夹: 点击侧边栏或主界面右上角的 “添加文件夹” 按钮。
   2. 自动扫描: 选择您的音乐存储目录后，LyciaMusic 将利用 Rust 后端的高性能扫描引擎，瞬间提取所有歌曲的元数据（标题、歌手、专辑、封面）。
   3. 秒开体验: 即使您的曲库有数千首歌，LyciaMusic 也会利用异步加载技术确保软件启动无需等待。

  ---

  🎨 2. 视觉盛宴：背景模式切换

  LyciaMusic 的核心点之一在于其沉浸式的视觉系统。在 设置 -> 外观设置 中，您可以自由选择：

   * ✨ 灵动流光 (Flow): 默认模式。系统会根据当前播放歌曲的封面颜色，自动生成如 Apple Music 般的动态网格渐变。光影会随音乐流转，极具灵动感。
   * 🌫️ 静态模糊 (Blur) : 将封面图大幅度缩放并应用高斯模糊，营造出一种柔和、安静的听歌氛围。
   * 🖼️ 自定义皮肤 (Custom) : 您可以上传自己喜欢的图片作为背景，并手动调节 模糊度、不透明度 和 遮罩深度，打造独一无二的私享界面。
   * 🌓 自动主题: 支持深色模式与浅色模式切换，完美适配您的系统主题。

  ---

  🎧 3. 播放控制与列表交互

   * 底部播放栏: 
       * 左侧显示当前歌曲信息（点击封面可展开/收起详情页）。
       * 中间提供播放、暂停、切歌以及三种播放模式（列表循环、单曲循环、随机播放）。
       * 动态显隐: 当播放列表为空时，底部栏会自动收起；当您点击播放任何歌曲时，它会优雅地从底部滑出。
   * 右侧抽屉式播放列表: 点击右下角的“三横线”图标，播放列表会从右侧像抽屉一样滑出。您可以方便地查看即将播放的歌曲、移除某项或点击“清空”。
   * 我的歌单: 侧边栏支持创建自定义歌单。通过拖拽，您可以直接将歌曲、歌手甚至整个文件夹丢进歌单里。

  ---

  🛠️ 4. 高级桌面功能

   * 🖱️ 处处可触的右键菜单 :
       * 歌曲右键: 快速收藏到歌单、从曲库删除，或点击 “打开文件所在目录” 直达本地文件夹。
       * 智能定位: 所有的右键菜单都具备“边界感应”，无论在屏幕哪个角落点击，菜单都会自动调整弹出方向，绝不溢出屏幕。     
       * 系统托盘: 最小化软件后，LyciaMusic 会常驻系统托盘。右键托盘图标可快速调回主界面或退出应用。

  💡 使用小贴士 (Tips)

   1. 双击播放: 在任何歌曲列表行上双击即可立即开始享受音乐。
   2. 右键打开目录: 对着左下角的歌曲信息点右键，可以快速打开这首歌在 Windows 资源管理器中的位置。
   3. 批量操作: **在文件夹视图下，支持按住 Shift 连选或 Ctrl 多选文件夹进行批量移除或创建歌单。**
   4. 性能无忧: 软件在处理高清图片时会自动限制并发数，即使在后台默默扫描，也不会影响您电脑的运行速度。

  ---



## ✨ 核心特性

### 🎨 沉浸式视觉体验
*   **灵动流光背景**: 采用自研 HSL 聚类算法提取封面主色，实时渲染 Apple Music 风格的动态网格渐变（Mesh Gradient）。支持静态模糊与自定义皮肤模式。
*   **磨砂玻璃美学**: 全局应用毛玻璃（Glassmorphism）设计语言，UI 界面与桌面环境完美融合。
*   **抽屉式交互**: 右侧滑入式播放列表，紧贴窗口边缘，提供原生应用的操控感。

### 🚀 极致性能优化
*   **秒开体验**: 通过 `index.html` 静态骨架屏技术，彻底消除 WebView 启动时的白屏/闪烁现象。
*   **智能按需加载**: 路由懒加载与异步组件挂载，确保首屏渲染速度与极低的内存占用。
*   **后端并发控制**: 在 Rust 后端引入信号量（Semaphore）限制图片处理并发，防止冷启动时 CPU 占用过高。

### 🛠️ 原生桌面集成
*   **系统托盘**: 深度集成 Tauri v2 TrayIcon API，支持窗口控制与快捷操作。
*   **高级右键菜单**: 全自定义右键菜单，具备智能边界检测（自动翻转）功能，防止菜单溢出屏幕。
*   **桌面歌词**: 高品质悬浮歌词，支持自定义样式与位置锁定。
*   **文件整理**: 内置高性能本地文件扫描、元数据提取及物理文件自动整理功能。

## 💻 技术栈

- **前端**: Vue 3 (Composition API), Vite, TypeScript, Tailwind CSS 4.0.
- **后端**: Rust, Tauri v2.0.
- **数据库**: SQLite (通过 `rusqlite`) 负责曲库持久化。
- **音频引擎**: `rodio` (Rust 高性能音频播放库)。

## 🚀 快速开始

### 环境准备
- [Node.js](https://nodejs.org/) (v18+)
- [Rust](https://www.rust-lang.org/tools/install) (最新稳定版)
- WebView2 (Windows 10/11 已内置)

### 安装步骤
1.  克隆仓库:
    ```bash
    git clone https://github.com/yourusername/my-cloud-music.git
    cd my-cloud-music
    ```
2.  安装依赖:
    ```bash
    npm install
    ```

### 开发环境运行
```bash
npm run tauri dev
```

### 生产环境构建
```bash
npm run tauri build
```

## 📂 项目结构

```plaintext
├── src/                # 前端源码 (Vue 3 + TS)
│   ├── components/     # 组件库 (布局、播放器、弹窗)
│   ├── composables/    # 组合式逻辑 (状态管理、颜色提取、播放控制)
│   ├── types/          # TypeScript 类型定义中心
│   └── views/          # 页面容器 (首页、收藏、最近)
├── src-tauri/          # 后端源码 (Rust)
│   ├── src/            # Rust 逻辑 (音频引擎、文件IO、数据库)
│   └── tauri.conf.json # Tauri 核心配置
└── 项目结构.md         # 开发者详细维护文档
```

## 📜 开源协议

本项目采用 MIT 协议开源。

---
*更新日期: 2025年12月31日*
